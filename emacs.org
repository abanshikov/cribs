#+TITLE Шпаргалка для сочетаний клавиш и команд emacs
#+STARTUP: overview

| Сочетание клавиш | Команда           | Описание                                |
|------------------+-------------------+-----------------------------------------|
| =C-h b=          | describe-bindings | Просмотреть все привязки                |
| =C-h x=          | describe-command  | Посмотреть справку для команд           |
| =C-h k=          |                   | Посмотреть справку для сочетания клавиш |

** Быстрый старт
1. =SPC-f f= или =counsel-find-file= - открыть файл в корне проекта
2. Выбрать =i= для добавления текущей директории как проекта
3. =M-x=: =treemacs-projectile= - выбрать добавленный проект

** Быстрое удаление проекта из отслеживаемых
Для автоматического прекращения отслеживания достаточно удалить каталог проекта с диска. Для прекращения отслеживания в emacs:
1. =porjectile-remove-known-project= - выбрать удаляемый из отслеживания проект
2. =treemacs-edit-workspace= - добавить =COMMENT= перед именем удаляемого проекта, затем =C-c C-c=

* Назначаемые клавиши
| =C-=       | Ctrl  |
| =M-=       | Altl  |
| =<LEADER>= | Space |
* Общие 
| Сочетание клавиш           | Команда                     | Описание                                     |
|----------------------------+-----------------------------+----------------------------------------------|
| =M-x=                      |                             | Перейти к вводу команд                       |
| =C-h f=                    |                             | Посмотреть справку                           |
| =C-x C-e=                  | eval-last-sexp              | Выполнить последнюю функцию                  |
| =C-==                      |                             | Расширение региона выделения [expand-region] |
| =C-s=                      | save-buffer                 | Сохранить документ (по умолчанию [C-x C-s])  |
| =C-S-s=                    | save-some-buffers           | Сохранить все буферы                         |
| =C-S-f (gs) (<LEADER> gs)= |                             | Поиск в текущем документах [swiper]          |
| =C-x u=                    | undo-tree-visualize         | Показать дерево отмены/повторов [undo-tree]  |
| =C-c C-o=                  |                             | Перейти по ссылке                            |
| =C-c C-v t=                | org-babel-tangle            | Компилировать из *.org файл *.el             |
| =C-z=                      |                             | Отключить evil-режим                         |
|                            | counsel-load-theme          | Выбрать тему для текущего сеанса             |
|                            | imenu                       | Показать меню файла *.org                    |
|                            | all-the-icons-install-fonts | Установить шрифты                            |

* Работа с пакетами
| Сочетание клавиш | Команда                  | Описание                                  |
|------------------+--------------------------+-------------------------------------------|
| =C-h P=          | describe-package         | Получить справку по пакету                |
|                  | package-refresh-contents | Обновить список пакетов                   |
|                  | try                      | Установить пакет для текущей сессии [try] |
|                  | list-packages            | Показать список пакетов                   |
|                  |                          |                                           |

* Закладки
| Сочетание клавиш | Команда             | Описание                                             |
|------------------+---------------------+------------------------------------------------------|
| =C-x r m=        | bookmark-set        | Сделать закладку на файл или каталог, который открыт |
| =C-x r b=        | bookmark-jump       | Перейти к закладке                                   |
| =C-x r l=        | bookmark-bmenu-list | Просмотреть список закладок                          |

* Окна
| Сочетание клавиш | Команда            | Описание                                  |
|------------------+--------------------+-------------------------------------------|
| =C-x 0=          |                    | Закрыть окно                              |
| =C-x 1=          |                    | Убрать разделение окна                    |
| =C-x 2=          | split-window-below | Разделить окно по горизонтали             |
| =C-x 3=          | split-window-right | Разделить окно по вертикали               |
| =C-x o=          |                    | Переключиться между окнами при разделении |

* Буферы 
| Сочетание клавиш  | Команда               | Описание                         |
|-------------------+-----------------------+----------------------------------|
| =C-x b=           |                       | Переключиться между буферами     |
| =C-x C-b=         |                       | Показать лист буферов            |
| =C-x k=           |                       | Уничтожить буфер                 |
| =C-<tab>=         | next-buffer           | Переключится на следующий буфер  |
| =C-<iso-lefttab>= | switch-to-prev-buffer | Переключится на предыдущий буфер |
| =C-S-w=           | kill-this-buffer      | Уничтожить текущий буфер         |

* Вкладки
| Сочетание клавиш | Команда                    | Описание                                                      |
|------------------+----------------------------+---------------------------------------------------------------|
|                  | tab-bar-mode               | Включить отображение панели вкладок                           |
| =C-x t 2=        | tab-new                    | Создать новую вкладку                                         |
| =C-x t o= =g t=  | tab-next                   | Перейти на следующую вкладку (tab-bar-switch-to-next-tab)     |
|                  |                            |                                                               |
| =g T=            | tab-bar-switch-to-prev-tab | Переключиться на предыдущую вкладку                           |
| =C-x t r=        | tab-rename                 | Переименовать текущую вкладку                                 |
| =C-x t 0=        | tab-close                  | Закрыть текущую вкладку                                       |
| =C-x t 1=        | tab-close-other            | Закрыть другие вкладки                                        |
|                  | tab-bar-undo-close-tab     | Повторно открыть последнюю закрытую вкладку                   |
| =C-x t m=        | tab-move                   | Переместить текущую вкладку вправо (влево с отр-ым префиксом) |
| =C-x t RET=      | tab-bar-select-tab-by-name | Выберите вкладку по имени, используя завершение               |

С установленным плагином centaur
| Сочетание клавиш | Команда                           | Описание                   |
|------------------+-----------------------------------+----------------------------|
| =C-<TAB>=        | centaur-tabs-forward              | Следующая вкладка          |
| =C-S-<TAB>=      | centaur-tabs-backward             | Предыдущая вкладка         |
| =C-S-t=          | centaur-tabs-counsel-switch-group | Просмотреть группы вкладок |
| =C-S-w=          | kill-buffer-and-window            | Закрыть окно и буфер       |

* Дерево каталогов treemacs
Для выполнения команд тримакс необходимо его активация (<f8> treemacs)
| Сочетание клавиш | Команда                                | Описание                                          |
|------------------+----------------------------------------+---------------------------------------------------|
|                  | treemacs-add-project-to-workspace      | Добавить проект                                   |
|                  | treemacs-set-fallback-workspace        | Добавить проект (интерактивно)                    |
|                  | treemacs-edit-workspaces               | Редактировать список проектов                     |
| =<f8>=           | treemacs                               | Скрыть/показать дерево каталогов                  |
| =q=              |                                        | Скрыть дерево каталогов                           |
| =C-c C-t a=      | treemacs-add-project-to-workspace      | Добавить проект к рабочему пространству           |
| =C-c C-t d=      | treemacs-remove-project-from-workspace | Удалить проект из рабочего пространства           |
| =<TAB>=          |                                        | Развернуть                                        |
| =o v=            |                                        | Открыть с вертикальным разделением                |
| =o h=            |                                        | Открыть с горизонтальным разделением              |
| =t h=            |                                        | Скрыть/показать скрытые файлы                     |
| =c d=            | treemacs-create-dir                    | Создать каталог                                   |
| =c f=            | treemacs-create-file                   | Создать файл                                      |
| =d=              |                                        | Удалить каталог/файл                              |
| =m=              |                                        | Переместить каталог/файл                          |
| =R=              |                                        | Переименовать каталог/файл (работает не стабильно |
| =y a=            | treemacs-copy-absolute-path            | Копировать полный путь до файла                   |
| =y f=            | treemacs-copy-file                     | Копировать файл                                   |
| =y p=            | treemacs-copy-project-path             | Копировать путь до проекта                        |
| =y r=            | treemacs-copy-relative-path            | Копировать путь от корня проекта до файла         |
| =M-m m=          |                                        | Маркировать/снять маркировку                      |
| =M-m s=          |                                        | Показать                                          |
| =M-m d=          |                                        | Удалить                                           |
| =M-m c=          |                                        | Копировать                                        |
| =M-m o=          |                                        | Переместить                                       |

* Редактирование 
| Сочетание клавиш | Команда               | Описание                          |
|------------------+-----------------------+-----------------------------------|
| =C-S-c=          | kill-ring-save        | Копировать (по умолчанию [Meta+w] |
| =C-S-v=          | yank                  | Вставить (по умолчанию [C-y])     |
| =C-c C-e r=      |                       | Переименовать тег [web-mode]      |
| =C-x r t=        | string-rectangle      | Редактирование нескольких строк   |
| =C-S-j=          | org-move-subtree-up   | Переместить поддерево вверх       |
| =C-S-k=          | org-move-subtree-down | Переместить поддерево вниз        |

* Файлы
| Сочетание клавиш        | Команда                   | Описание                                         |
|-------------------------+---------------------------+--------------------------------------------------|
| =C-x C-f (<LEADER> ff)= | counsel-find-file         | Найти и открыть файл                             |
| =<LEADER> fr=           | counsel-recentf           | Последние файлы                                  |
| =<LEADER> fg=           | counsel-rg                | Поиск по тексту в файле                          |
| =<LEADER> fp=           | projectile-switch-project | Поиск проекта                                    |
| =C-d f=                 | dired                     | Обзор файлов                                     |
| =C-x C-j=               | dired-jump                | Открыть каталог в котором находится текущий файл |

** Dired
*** Управление
- =(= - скрыть/показать дополнительную информацию
- =g= / =g r= Обновите буфер с =revert-buffer= помощью после изменения конфигурации (и после изменений файловой системы!)
- =H= - скрыть/показать скрытые файлы

*** Навигация
*Emacs* / *Evil*
- =n= / =j= - следующая строка
- =p= / =k= - предыдущая строка
- =j= / =J= - перейти к файлу в буфере
- =RET= - выберите файл или каталог
- =^= - перейти в родительский каталог
- =S-RET= / =g O= - Открыть файл в окне “другое”
- =M-RET= - Показывать файл в другом окне без фокусировки (предварительный просмотр файлов)
- =g o= (=dired-view-file=) - Открыть файл, но в режиме “предварительного просмотра”, закрыть с помощью =q=

*** Маркировка файлов
- =m= - Помечает файл
- =u= - Удаление метки файла
- =U= - Удаляет метки со всех файлов в буфере
- =* t= / =t= - Инвертирует помеченные файлы в буфере
- =% m= - Помечать файлы в буфере с помощью регулярного выражения
- =*= - Множество других функций автоматической маркировки
- =k= / =K= - “Уничтожить” помеченные элементы (обновить буфер с помощью =g= / =g r=, чтобы вернуть их обратно)
Многие операции могут быть выполнены с одним файлом, если нет активных меток!

*** Копирование и переименование файлов
- =C= - Копировать отмеченные файлы (или, если файлы не отмечены, текущий файл)
Копирование отдельных и нескольких файлов
- =U= - Снимите пометки со всех файлов в буфере
- =R= - Переименовывать помеченные файлы, переименование нескольких - это перемещение
- =% R= - Переименование на основе регулярного выражения:^test , old-\&
- =i= (=C-x C-q=) (=dired-toggle-read-only=) - делает все имена файлов в буфере доступными для редактирования напрямую, чтобы переименовать их! Нажмите =Z Z=, чтобы подтвердить переименование или =Z Q= прервать.

*** Удаление файлов
- =D= - Удалить помеченный файл
- =d= - Пометить файл для удаления
- =x= - Выполнить удаление меток
- =delete-by-moving-to-trash= - Переместить в корзину вместо постоянного удаления

*** Создание и извлечение архивов
- =Z= - Сжимать или распаковывать файл или папку в (.tar.gz)
- =c= - Сжать выделенный файл в определенный файл
- =dired-compress-files-alist= - Привязать команды сжатия к расширению файла

*** Другие распространенные операции
- =T= - Коснитесь (измените временную метку)
- =M= - Изменить режим файла
- =O= - Изменить владельца файла
- =G= - Изменить группу файлов
- =S= - Создайте символическую ссылку на этот файл
- =L= - Загрузить файл Emacs Lisp в Emacs

* Навигация
| Сочетание клавиш | Команда             | Описание                        |
|------------------+---------------------+---------------------------------|
| =C-u=            |                     | Page Up  (Evil normal-mode)     |
| =C-d=            |                     |                                 |
| =C-k=            | ivy-previous-line   | Перейти к предыдущему заголовку |
| =C-j=            | ivy-next-line       | Перейти к следующему заголовку  |
| =gd=             | lsp-find-definition | Перейти к определению функции   |
| =gc (<LEADER> gc)= | avy-goto-char       | Перейти к символу на экране     |

* Проекты
| Сочетание клавиш | Команда                  | Описание                                                |
|------------------+--------------------------+---------------------------------------------------------|
| =C-c p=          | projectile-command-map   | Показать команды управления проектами                   |
|                  | projectile-run-project   | Запустить проект [C-c p u]                              |
|                  | flycheck-list-error      | Показать все ошибки [C-c ! l]                           |
| =<LEADER> va=    | pyvenv-activate          | Активировать виртуальное окружение                      |
| =<LEADER> vd=    | pyvenv-deactivate        | Деактивировать виртуальное окружение                    |
| =C-c C-p=        | run-python               | Запустить консоль python                                |
| =C-c C-r=        | python-shell-send-region | Выполнить выделенный код (сначала [C-c C-p])            |
| =C-c C-c=        | python-shell-send-buffer | Выполнить код из текущего буфера (сначала [C-c C-p])    |
| =C-c C-l=        | python-shell-send-file   | Выполнить код из файла в консоли (сначала [C-c C-p])    |
| =C-M-x=          | python-shell-send-defun  | Выполнить текущую функцию в консоли (сначала [C-c C-p]) |
| =[f2]=           | lsp-rename               | Переименование                                          |
| =[f5]=           | projectile-run-project   | Запуск проекта                                          |
| =C-S-l=          | lsp-format-buffer        | Форматировать буфер, согласно установленного линтера    |
| =<LEADER> ld=    | lsp-ui-doc-toggle        | Показать докстринг                                      |
| =<LEADER> ld=    | lsp-ui-doc-glance        | Показать докстринг                                      |
| =<LEADER> le=    | flycheck-list-errors     | Показать все ошибки                                     |

* Терминал
| Сочетание клавиш | Команда     | Описание                                        |
|------------------+-------------+-------------------------------------------------|
|                  | term        | Запуск системного терминала                     |
|                  | vterm       | Запуск системного терминала (скомпилированного) |
|                  | shell       | Запуск терминала                                |
|                  | eshell      | Запуск терминала emacs                          |
| =<LEADER> tm=    | start-term  | Запустить терминал                              |
| =<LEADER> tt=    | start-vterm | Запустить v-терминал                            |

* Задачи, заметки, напоминания
| Сочетание клавиш | Команда              | Описание                                                           |
|------------------+----------------------+--------------------------------------------------------------------|
|                  | org-agenda           | Управление запланированными делами                                 |
| =S-Right=        |                      | В org-mode изменить статус TODO                                    |
| =<LEADER> nn=    | org-capture          | Новая задача/заметка                                               |
| =<LEADER> na=    | org-agenda           | Управление задачами                                                |
| =<LEADER> ns=    | org-agenda-list      | Показать задачи                                                    |
|                  | org-mode             | перезагрузить режим mode                                           |
|                  | org-agenda           | управление отображением списком дел                                |
|                  | org-agenda-list      | просмотреть список запланированных дел (которым присвоены даты)    |
|                  | org-capture          | управление созданием заданий                                       |
| =C-c C-s=        | org-schedule         | присвоить дату для задачи                                          |
| =C-c C-d=        | org-deadline         | присвоить конечную дату для задачи (будет отображаться за 14 дней) |
| =C-c C-t=        | org-todo             | присвоить статус "выполнено" и присвоение даты выполнения          |
| =C-c C-w=        | org-refile           | переместить задачу в архив или в завершённые                       |
|                  | org-set-tags-command | присвоить один из стандартных тегов                                |
|                  | counsel-org-tag      | присвоить тег для задачи                                           |

* Орфография
| Сочетание клавиш | Команда              | Описание                              |
|------------------+----------------------+---------------------------------------|
| =z-==            | ispell-word          | Варианты исправления орфографии слова |
| =M-TAB=          | ispell-complete-word | Перебор вариантов написания слова     |
| z-= i            |                      | Добавить слово в словарь              |

* Сочетания клавиш / команды
| Сочетание клавиш | Команда          | Описание         |
|------------------+------------------+------------------|
