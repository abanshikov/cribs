#+TITLE Шпаргалка для сочетаний клавиш и команд emacs
#+STARTUP: overview

* Назначаемые клавиши
| =C-=       | Ctrl  |
| =M-=       | Altl  |
| =<LEADER>= | Space |
* Общие 
| Сочетание клавиш           | Команда                     | Описание                                     |
|----------------------------+-----------------------------+----------------------------------------------|
| =M-x=                      |                             | Перейти к вводу команд                       |
| =C-h f=                    |                             | Посмотреть справку                           |
| =C-x C-e=                  | eval-last-sexp              | Выполнить последнюю функцию                  |
| =C-==                      |                             | Расширение региона выделения [expand-region] |
| =C-s=                      | save-buffer                 | Сохранить документ (по умолчанию [C-x C-s])  |
| =C-S-s=                    | save-some-buffers           | Сохранить все буферы                         |
| =C-S-f (gs) (<LEADER> gs)= |                             | Поиск в текущем документах [swiper]          |
| =C-x u=                    | undo-tree-visualize         | Показать дерево отмены/повторов [undo-tree]  |
| =C-c C-o=                  |                             | Перейти по ссылке                            |
| =C-c C-v t=                | org-babel-tangle            | Компилировать из *.org файл *.el             |
| =C-z=                      |                             | Отключить evil-режим                         |
|                            | counsel-load-theme          | Выбрать тему для текущего сеанса             |
|                            | imenu                       | Показать меню файла *.org                    |
|                            | all-the-icons-install-fonts | Установить шрифты                            |

* Работа с пакетами
| Сочетание клавиш | Команда                  | Описание                                  |
|------------------+--------------------------+-------------------------------------------|
| =C-h P=          | describe-package         | Получить справку по пакету                |
|                  | package-refresh-contents | Обновить список пакетов                   |
|                  | try                      | Установить пакет для текущей сессии [try] |
|                  | list-packages            | Показать список пакетов                   |
|                  |                          |                                           |

* Окна
| Сочетание клавиш | Команда            | Описание                                  |
|------------------+--------------------+-------------------------------------------|
| =C-x 0=          |                    | Закрыть окно                              |
| =C-x 1=          |                    | Убрать разделение окна                    |
| =C-x 2=          | split-window-below | Разделить окно по горизонтали             |
| =C-x 3=          | split-window-right | Разделить окно по вертикали               |
| =C-x o=          |                    | Переключиться между окнами при разделении |

* Буферы 
| Сочетание клавиш  | Команда               | Описание                         |
|-------------------+-----------------------+----------------------------------|
| =C-x b=           |                       | Переключиться между буферами     |
| =C-x C-b=         |                       | Показать лист буферов            |
| =C-x k=           |                       | Уничтожить буфер                 |
| =C-<tab>=         | next-buffer           | Переключится на следующий буфер  |
| =C-<iso-lefttab>= | switch-to-prev-buffer | Переключится на предыдущий буфер |
| =C-S-w=           | kill-this-buffer      | Уничтожить текущий буфер         |

* Редактирование 
| Сочетание клавиш | Команда               | Описание                          |
|------------------+-----------------------+-----------------------------------|
| =C-S-c=          | kill-ring-save        | Копировать (по умолчанию [Meta+w] |
| =C-S-v=          | yank                  | Вставить (по умолчанию [C-y])     |
| =C-c C-e r=      |                       | Переименовать тег [web-mode]      |
| =C-x r t=        | string-rectangle      | Редактирование нескольких строк   |
| =C-S-j=          | org-move-subtree-up   | Переместить поддерево вверх       |
| =C-S-k=          | org-move-subtree-down | Переместить поддерево вниз        |

* Файлы
| Сочетание клавиш        | Команда                   | Описание                |
|-------------------------+---------------------------+-------------------------|
| =C-x C-f (<LEADER> ff)= | counsel-find-file         | Найти и открыть файл    |
| =<LEADER> fr=           | counsel-recentf           | Последние файлы         |
| =<LEADER> fg=           | counsel-rg                | Поиск по тексту в файле |
| =<LEADER> fp=           | projectile-switch-project | Поиск проекта           |
| =C-d f=                 | dired                     | Обзор файлов            |

** Dired
*** Навигация
*Emacs* / *Evil*
- =n= / =j= - следующая строка
- =p= / =k= - предыдущая строка
- =j= / =J= - перейти к файлу в буфере
- =RET= - выберите файл или каталог
- =^= - перейти в родительский каталог
- =S-RET= / =g O= - Открыть файл в окне “другое”
- =M-RET= - Показывать файл в другом окне без фокусировки (предварительный просмотр файлов)
- =g o= (=dired-view-file=) - Открыть файл, но в режиме “предварительного просмотра”, закрыть с помощью =q=
- =g= / =g r= Обновите буфер с =revert-buffer= помощью после изменения конфигурации (и после изменений файловой системы!)

*** Маркировка файлов
- =m= - Marks a file
- =u= - Unmarks a file
- =U= - Unmarks all files in buffer
- =* t= / =t= - Inverts marked files in buffer
- =% m= - Mark files in buffer using regular expression
- =*= - Lots of other auto-marking functions
- =k= / =K= - "Kill" marked items (refresh buffer with =g= / =g r= to get them back)
- Many operations can be done on a single file if there are no active marks!

- =m= - Помечает файл
- =u= - Удаление метки файла
- =U= - Удаляет метки со всех файлов в буфере
- =* t= / =t= - Инвертирует помеченные файлы в буфере
- =% m= - Помечать файлы в буфере с помощью регулярного выражения
- =*= - Множество других функций автоматической маркировки
- =k= / =K= - “Уничтожить” помеченные элементы (обновить буфер с помощью =g= / =g r=, чтобы вернуть их обратно)
Многие операции могут быть выполнены с одним файлом, если нет активных меток!

*** Копирование и переименование файлов
- =C= - Копировать отмеченные файлы (или, если файлы не отмечены, текущий файл)
Копирование отдельных и нескольких файлов
- =U= - Снимите пометки со всех файлов в буфере
- =R= - Переименовывать помеченные файлы, переименование нескольких - это перемещение
- =% R= - Переименование на основе регулярного выражения:^test , old-\&
- =C-x C-q= (=dired-toggle-read-only=) - делает все имена файлов в буфере доступными для редактирования напрямую, чтобы переименовать их! Нажмите =Z Z=, чтобы подтвердить переименование или =Z Q= прервать.

*** Удаление файлов
- =D= - Удалить помеченный файл
- =d= - Пометить файл для удаления
- =x= - Выполнить удаление меток
- =delete-by-moving-to-trash= - Переместить в корзину вместо постоянного удаления

*** Создание и извлечение архивов
- =Z= - Сжимать или распаковывать файл или папку в (.tar.gz)
- =c= - Сжать выделенный файл в определенный файл
- =dired-compress-files-alist= - Привязать команды сжатия к расширению файла

*** Другие распространенные операции
- =T= - Коснитесь (измените временную метку)
- =M= - Изменить режим файла
- =O= - Изменить владельца файла
- =G= - Изменить группу файлов
- =S= - Создайте символическую ссылку на этот файл
- =L= - Загрузить файл Emacs Lisp в Emacs

* Навигация
| Сочетание клавиш | Команда             | Описание                        |
|------------------+---------------------+---------------------------------|
| =C-u=            |                     | Page Up  (Evil normal-mode)     |
| =C-d=            |                     |                                 |
| =C-k=            | ivy-previous-line   | Перейти к предыдущему заголовку |
| =C-j=            | ivy-next-line       | Перейти к следующему заголовку  |
| =gd=             | lsp-find-definition | Перейти к определению функции   |
| =gc (<LEADER> gc)= | avy-goto-char       | Перейти к символу на экране     |

* Проекты
| Сочетание клавиш | Команда                  | Описание                                                |
|------------------+--------------------------+---------------------------------------------------------|
| =C-c p=          | projectile-command-map   | Показать команды управления проектами                   |
|                  | projectile-run-project   | Запустить проект [C-c p u]                              |
|                  | flycheck-list-error      | Показать все ошибки [C-c ! l]                           |
| =<LEADER> va=    | pyvenv-activate          | Активировать виртуальное окружение                      |
| =<LEADER> vd=    | pyvenv-deactivate        | Деактивировать виртуальное окружение                    |
| =C-c C-p=        | run-python               | Запустить консоль python                                |
| =C-c C-r=        | python-shell-send-region | Выполнить выделенный код (сначала [C-c C-p])            |
| =C-c C-c=        | python-shell-send-buffer | Выполнить код из текущего буфера (сначала [C-c C-p])    |
| =C-c C-l=        | python-shell-send-file   | Выполнить код из файла в консоли (сначала [C-c C-p])    |
| =C-M-x=          | python-shell-send-defun  | Выполнить текущую функцию в консоли (сначала [C-c C-p]) |
| =[f2]=           | lsp-rename               | Переименование                                          |
| =[f5]=           | projectile-run-project   | Запуск проекта                                          |
| =C-S-l=          | lsp-format-buffer        | Форматировать буфер, согласно установленного линтера    |
| =<LEADER> ld=    | lsp-ui-doc-toggle        | Показать докстринг                                      |
| =<LEADER> ld=    | lsp-ui-doc-glance        | Показать докстринг                                      |
| =<LEADER> le=    | flycheck-list-errors     | Показать все ошибки                                     |

* Терминал
| Сочетание клавиш | Команда     | Описание                                        |
|------------------+-------------+-------------------------------------------------|
|                  | term        | Запуск системного терминала                     |
|                  | vterm       | Запуск системного терминала (скомпилированного) |
|                  | shell       | Запуск терминала                                |
|                  | eshell      | Запуск терминала emacs                          |
| =<LEADER> tm=    | start-term  | Запустить терминал                              |
| =<LEADER> tt=    | start-vterm | Запустить v-терминал                            |

* Задачи, заметки, напоминания
| Сочетание клавиш | Команда              | Описание                                                           |
|------------------+----------------------+--------------------------------------------------------------------|
|                  | org-agenda           | Управление запланированными делами                                 |
| =S-Right=        |                      | В org-mode изменить статус TODO                                    |
| =<LEADER> nn=    | org-capture          | Новая задача/заметка                                               |
| =<LEADER> na=    | org-agenda           | Управление задачами                                                |
| =<LEADER> ns=    | org-agenda-list      | Показать задачи                                                    |
|                  | org-mode             | перезагрузить режим mode                                           |
|                  | org-agenda           | управление отображением списком дел                                |
|                  | org-agenda-list      | просмотреть список запланированных дел (которым присвоены даты)    |
|                  | org-capture          | управление созданием заданий                                       |
| =C-c C-s=        | org-schedule         | присвоить дату для задачи                                          |
| =C-c C-d=        | org-deadline         | присвоить конечную дату для задачи (будет отображаться за 14 дней) |
| =C-c C-t=        | org-todo             | присвоить статус "выполнено" и присвоение даты выполнения          |
| =C-c C-w=        | org-refile           | переместить задачу в архив или в завершённые                       |
|                  | org-set-tags-command | присвоить один из стандартных тегов                                |
|                  | counsel-org-tag      | присвоить тег для задачи                                           |

* Орфография
| Сочетание клавиш | Команда              | Описание                              |
|------------------+----------------------+---------------------------------------|
| =z-==            | ispell-word          | Варианты исправления орфографии слова |
| =M-TAB=          | ispell-complete-word | Перебор вариантов написания слова     |
| z-= i            |                      | Добавить слово в словарь              |

* Сочетания клавиш / команды
| Сочетание клавиш | Команда          | Описание         |
|------------------+------------------+------------------|
